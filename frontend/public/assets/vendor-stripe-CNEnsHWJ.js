import{g as Re,R as u}from"./vendor-react-a6Z3I56r.js";var ne="clover",we=function(e){return e===3?"v3":e},oe="https://js.stripe.com",Oe="".concat(oe,"/").concat(ne,"/stripe.js"),je=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,xe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Te=function(e){return je.test(e)||xe.test(e)},Ae=function(){for(var e=document.querySelectorAll('script[src^="'.concat(oe,'"]')),t=0;t<e.length;t++){var r=e[t];if(Te(r.src))return r}return null},G=function(e){var t="",r=document.createElement("script");r.src="".concat(Oe).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},Ie=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:t})},j=null,L=null,N=null,Le=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},Ne=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},Ue=function(e){return j!==null?j:(j=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var o=Ae();if(!(o&&e)){if(!o)o=G(e);else if(o&&N!==null&&L!==null){var i;o.removeEventListener("load",N),o.removeEventListener("error",L),(i=o.parentNode)===null||i===void 0||i.removeChild(o),o=G(e)}}N=Ne(t,r),L=Le(r),o.addEventListener("load",N),o.addEventListener("error",L)}catch(a){r(a);return}}),j.catch(function(t){return j=null,Promise.reject(t)}))},_e=function(e,t,r){if(e===null)return null;var o=t[0],i=o.match(/^pk_test/),a=we(e.version),s=ne;i&&a!==s&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,t);return Ie(c,r),c},x,ie=!1,ae=function(){return x||(x=Ue(null).catch(function(e){return x=null,Promise.reject(e)}),x)};Promise.resolve().then(function(){return ae()}).catch(function(n){ie||console.warn(n)});var at=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ie=!0;var o=Date.now();return ae().then(function(i){return _e(i,t,o)})},q={exports:{}},D,K;function We(){if(K)return D;K=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return D=n,D}var M,z;function qe(){if(z)return M;z=1;var n=We();function e(){}function t(){}return t.resetWarningCache=e,M=function(){function r(a,s,c,C,f,S){if(S!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},M}var X;function De(){return X||(X=1,q.exports=qe()()),q.exports}var Me=De();const d=Re(Me);function H(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Q(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H(Object(t),!0).forEach(function(r){ce(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function U(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(e){return typeof e}:U=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(n)}function ce(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fe(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Ye(n,e){if(n==null)return{};var t=Fe(n,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ue(n,e){return Be(n)||Ve(n,e)||$e(n,e)||Je()}function Be(n){if(Array.isArray(n))return n}function Ve(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],o=!0,i=!1,a,s;try{for(t=t.call(n);!(o=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));o=!0);}catch(c){i=!0,s=c}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw s}}return r}}function $e(n,e){if(n){if(typeof n=="string")return Z(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(n,e)}}function Z(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=function(e,t,r){var o=!!r,i=u.useRef(r);u.useEffect(function(){i.current=r},[r]),u.useEffect(function(){if(!o||!e)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,a),function(){e.off(t,a)}},[o,t,e,i])},F=function(e){var t=u.useRef(e);return u.useEffect(function(){t.current=e},[e]),t.current},O=function(e){return e!==null&&U(e)==="object"},Ge=function(e){return O(e)&&typeof e.then=="function"},Ke=function(e){return O(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ee="[object Object]",ze=function n(e,t){if(!O(e)||!O(t))return e===t;var r=Array.isArray(e),o=Array.isArray(t);if(r!==o)return!1;var i=Object.prototype.toString.call(e)===ee,a=Object.prototype.toString.call(t)===ee;if(i!==a)return!1;if(!i&&!r)return e===t;var s=Object.keys(e),c=Object.keys(t);if(s.length!==c.length)return!1;for(var C={},f=0;f<s.length;f+=1)C[s[f]]=!0;for(var S=0;S<c.length;S+=1)C[c[S]]=!0;var l=Object.keys(C);if(l.length!==s.length)return!1;var m=e,R=t,b=function(w){return n(m[w],R[w])};return l.every(b)},Xe=function(e,t,r){return O(e)?Object.keys(e).reduce(function(o,i){var a=!O(t)||!ze(e[i],t[i]);return r.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),o):a?Q(Q({},o||{}),{},ce({},i,e[i])):o},null):null},se="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",te=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se;if(e===null||Ke(e))return e;throw new Error(t)},He=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se;if(Ge(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(o){return te(o,t)})};var r=te(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Qe=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},de=u.createContext(null);de.displayName="ElementsContext";var Ze=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};d.any,d.object;d.func.isRequired;var le=u.createContext(null);le.displayName="CheckoutContext";d.any,d.shape({clientSecret:d.oneOfType([d.string,d.instanceOf(Promise)]).isRequired,elementsOptions:d.object}).isRequired;var re=function(e){var t=u.useContext(le),r=u.useContext(de);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return Ze(r,e)},et=["mode"],tt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},g=function(e,t){var r="".concat(tt(e),"Element"),o=function(c){var C=c.id,f=c.className,S=c.options,l=S===void 0?{}:S,m=c.onBlur,R=c.onFocus,b=c.onReady,T=c.onChange,w=c.onEscape,fe=c.onClick,me=c.onLoadError,he=c.onLoaderStart,ve=c.onNetworksChange,ye=c.onConfirm,ge=c.onCancel,Ce=c.onShippingAddressChange,Se=c.onShippingRateChange,Ee=c.onSavedPaymentMethodRemove,be=c.onSavedPaymentMethodUpdate,A=re("mounts <".concat(r,">")),I="elements"in A?A.elements:null,k="checkoutState"in A?A.checkoutState:null,E=k?.type==="success"||k?.type==="loading"?k.sdk:null,Pe=u.useState(null),B=ue(Pe,2),h=B[0],ke=B[1],P=u.useRef(null),_=u.useRef(null);v(h,"blur",m),v(h,"focus",R),v(h,"escape",w),v(h,"click",fe),v(h,"loaderror",me),v(h,"loaderstart",he),v(h,"networkschange",ve),v(h,"confirm",ye),v(h,"cancel",ge),v(h,"shippingaddresschange",Ce),v(h,"shippingratechange",Se),v(h,"savedpaymentmethodremove",Ee),v(h,"savedpaymentmethodupdate",be),v(h,"change",T);var W;b&&(e==="expressCheckout"?W=b:W=function(){b(h)}),v(h,"ready",W),u.useLayoutEffect(function(){if(P.current===null&&_.current!==null&&(I||E)){var p=null;if(E)switch(e){case"paymentForm":p=E.createPaymentFormElement();break;case"payment":p=E.createPaymentElement(l);break;case"address":if("mode"in l){var $=l.mode,J=Ye(l,et);if($==="shipping")p=E.createShippingAddressElement(J);else if($==="billing")p=E.createBillingAddressElement(J);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":p=E.createExpressCheckoutElement(l);break;case"currencySelector":p=E.createCurrencySelectorElement();break;case"taxId":p=E.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else I&&(p=I.create(e,l));P.current=p,ke(p),p&&p.mount(_.current)}},[I,E,l]);var V=F(l);return u.useEffect(function(){if(P.current){var p=Xe(l,V,["paymentRequest"]);p&&"update"in P.current&&P.current.update(p)}},[l,V]),u.useLayoutEffect(function(){return function(){if(P.current&&typeof P.current.destroy=="function")try{P.current.destroy(),P.current=null}catch{}}},[]),u.createElement("div",{id:C,className:f,ref:_})},i=function(c){re("mounts <".concat(r,">"));var C=c.id,f=c.className;return u.createElement("div",{id:C,className:f})},a=t?i:o;return a.propTypes={id:d.string,className:d.string,onChange:d.func,onBlur:d.func,onFocus:d.func,onReady:d.func,onEscape:d.func,onClick:d.func,onLoadError:d.func,onLoaderStart:d.func,onNetworksChange:d.func,onConfirm:d.func,onCancel:d.func,onShippingAddressChange:d.func,onShippingRateChange:d.func,onSavedPaymentMethodRemove:d.func,onSavedPaymentMethodUpdate:d.func,options:d.object},a.displayName=r,a.__elementType=e,a},y=typeof window>"u",Y=u.createContext(null);Y.displayName="EmbeddedCheckoutProviderContext";var pe=function(){var e=u.useContext(Y);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},rt="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ct=function(e){var t=e.stripe,r=e.options,o=e.children,i=u.useMemo(function(){return He(t,rt)},[t]),a=u.useRef(null),s=u.useRef(null),c=u.useState({embeddedCheckout:null}),C=ue(c,2),f=C[0],S=C[1];u.useEffect(function(){if(!(s.current||a.current)){var R=function(T){s.current||a.current||(s.current=T,a.current=s.current.initEmbeddedCheckout(r).then(function(w){S({embeddedCheckout:w})}))};i.tag==="async"&&!s.current&&(r.clientSecret||r.fetchClientSecret)?i.stripePromise.then(function(b){b&&R(b)}):i.tag==="sync"&&!s.current&&(r.clientSecret||r.fetchClientSecret)&&R(i.stripe)}},[i,r,f,s]),u.useEffect(function(){return function(){f.embeddedCheckout?(a.current=null,f.embeddedCheckout.destroy()):a.current&&a.current.then(function(){a.current=null,f.embeddedCheckout&&f.embeddedCheckout.destroy()})}},[f.embeddedCheckout]),u.useEffect(function(){Qe(s)},[s]);var l=F(t);u.useEffect(function(){l!==null&&l!==t&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[l,t]);var m=F(r);return u.useEffect(function(){if(m!=null){if(r==null){console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");return}r.clientSecret===void 0&&r.fetchClientSecret===void 0&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),m.clientSecret!=null&&r.clientSecret!==m.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),m.fetchClientSecret!=null&&r.fetchClientSecret!==m.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),m.onComplete!=null&&r.onComplete!==m.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),m.onShippingDetailsChange!=null&&r.onShippingDetailsChange!==m.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),m.onLineItemsChange!=null&&r.onLineItemsChange!==m.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[m,r]),u.createElement(Y.Provider,{value:f},o)},nt=function(e){var t=e.id,r=e.className,o=pe(),i=o.embeddedCheckout,a=u.useRef(!1),s=u.useRef(null);return u.useLayoutEffect(function(){return!a.current&&i&&s.current!==null&&(i.mount(s.current),a.current=!0),function(){if(a.current&&i)try{i.unmount(),a.current=!1}catch{}}},[i]),u.createElement("div",{ref:s,id:t,className:r})},ot=function(e){var t=e.id,r=e.className;return pe(),u.createElement("div",{id:t,className:r})},ut=y?ot:nt;g("auBankAccount",y);g("card",y);g("cardNumber",y);g("cardExpiry",y);g("cardCvc",y);g("iban",y);g("payment",y);g("expressCheckout",y);g("paymentRequestButton",y);g("linkAuthentication",y);g("address",y);g("shippingAddress",y);g("paymentMethodMessaging",y);g("taxId",y);export{ct as E,ut as a,at as l};
