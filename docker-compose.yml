version: '3.8'

services:
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    expose:
      - "8000"  # ✅ doar expunem portul intern, nu îl mapăm la host
    environment:
      - DATABASE_URL=${DATABASE_URL}
      - CORS_ORIGINS=${CORS_ORIGINS}

frontend:
  build:
    context: ./frontend
    dockerfile: Dockerfile
  ports:
    - "8080:80"  # schimbat din 80:80 în 8080:80
  depends_on:
    - backend


volumes:
  postgres_data:
